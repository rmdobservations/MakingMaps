{"dependencies":[{"name":"/home/rose/projects/npmProjects/MakingMaps/node_modules/ol/package.json","includedInParent":true,"mtime":1531302262464},{"name":"/home/rose/projects/npmProjects/MakingMaps/package.json","includedInParent":true,"mtime":1531302358436},{"name":"./util.js","loc":{"line":4,"column":23},"parent":"/home/rose/projects/npmProjects/MakingMaps/node_modules/ol/TileCache.js","resolved":"/home/rose/projects/npmProjects/MakingMaps/node_modules/ol/util.js"},{"name":"./structs/LRUCache.js","loc":{"line":5,"column":21},"parent":"/home/rose/projects/npmProjects/MakingMaps/node_modules/ol/TileCache.js","resolved":"/home/rose/projects/npmProjects/MakingMaps/node_modules/ol/structs/LRUCache.js"},{"name":"./tilecoord.js","loc":{"line":6,"column":30},"parent":"/home/rose/projects/npmProjects/MakingMaps/node_modules/ol/TileCache.js","resolved":"/home/rose/projects/npmProjects/MakingMaps/node_modules/ol/tilecoord.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"./util.js\"),t=require(\"./structs/LRUCache.js\"),i=r(t),o=require(\"./tilecoord.js\");function r(e){return e&&e.__esModule?e:{default:e}}const s=function(e){i.default.call(this,e)};(0,e.inherits)(s,i.default),s.prototype.expireCache=function(e){for(;this.canExpireCache();){const t=this.peekLast(),i=t.tileCoord[0].toString();if(i in e&&e[i].contains(t.tileCoord))break;this.pop().dispose()}},s.prototype.pruneExceptNewestZ=function(){if(0===this.getCount())return;const e=this.peekFirstKey(),t=(0,o.fromKey)(e)[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove((0,o.getKey)(e.tileCoord)),e.dispose())},this)},exports.default=s;","map":{"mappings":[{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":56,"column":15},"generated":{"line":1,"column":0}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":56,"column":15},"generated":{"line":1,"column":13}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":56,"column":15},"generated":{"line":1,"column":20}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":56,"column":15},"generated":{"line":1,"column":35}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":56,"column":15},"generated":{"line":1,"column":43}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":56,"column":15},"generated":{"line":1,"column":56}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":56,"column":15},"generated":{"line":1,"column":57}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":56,"column":15},"generated":{"line":1,"column":64}},{"source":"node_modules/ol/TileCache.js","original":{"line":4,"column":0},"generated":{"line":1,"column":68}},{"source":"node_modules/ol/TileCache.js","original":{"line":4,"column":0},"generated":{"line":1,"column":72}},{"source":"node_modules/ol/TileCache.js","original":{"line":4,"column":0},"generated":{"line":1,"column":74}},{"source":"node_modules/ol/TileCache.js","original":{"line":4,"column":0},"generated":{"line":1,"column":82}},{"source":"node_modules/ol/TileCache.js","original":{"line":5,"column":0},"generated":{"line":1,"column":95}},{"source":"node_modules/ol/TileCache.js","original":{"line":5,"column":0},"generated":{"line":1,"column":97}},{"source":"node_modules/ol/TileCache.js","original":{"line":5,"column":0},"generated":{"line":1,"column":105}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":56,"column":15},"generated":{"line":1,"column":130}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":56,"column":15},"generated":{"line":1,"column":132}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":56,"column":15},"generated":{"line":1,"column":134}},{"source":"node_modules/ol/TileCache.js","original":{"line":6,"column":0},"generated":{"line":1,"column":137}},{"source":"node_modules/ol/TileCache.js","original":{"line":6,"column":0},"generated":{"line":1,"column":139}},{"source":"node_modules/ol/TileCache.js","original":{"line":6,"column":0},"generated":{"line":1,"column":147}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":56,"column":15},"generated":{"line":1,"column":165}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":56,"column":15},"generated":{"line":1,"column":174}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":56,"column":15},"generated":{"line":1,"column":176}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":56,"column":15},"generated":{"line":1,"column":179}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":56,"column":15},"generated":{"line":1,"column":186}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":56,"column":15},"generated":{"line":1,"column":189}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":56,"column":15},"generated":{"line":1,"column":191}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":56,"column":15},"generated":{"line":1,"column":202}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":56,"column":15},"generated":{"line":1,"column":204}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":56,"column":15},"generated":{"line":1,"column":205}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":56,"column":15},"generated":{"line":1,"column":213}},{"source":"node_modules/ol/TileCache.js","original":{"line":14,"column":0},"generated":{"line":1,"column":216}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":14,"column":6},"generated":{"line":1,"column":222}},{"source":"node_modules/ol/TileCache.js","original":{"line":14,"column":18},"generated":{"line":1,"column":224}},{"source":"node_modules/ol/TileCache.js","name":"opt_highWaterMark","original":{"line":14,"column":27},"generated":{"line":1,"column":233}},{"source":"node_modules/ol/TileCache.js","name":"call","original":{"line":16,"column":11},"generated":{"line":1,"column":236}},{"source":"node_modules/ol/TileCache.js","name":"call","original":{"line":16,"column":11},"generated":{"line":1,"column":238}},{"source":"node_modules/ol/TileCache.js","name":"call","original":{"line":16,"column":11},"generated":{"line":1,"column":246}},{"source":"node_modules/ol/TileCache.js","original":{"line":16,"column":16},"generated":{"line":1,"column":251}},{"source":"node_modules/ol/TileCache.js","name":"opt_highWaterMark","original":{"line":16,"column":22},"generated":{"line":1,"column":256}},{"source":"node_modules/ol/TileCache.js","original":{"line":20,"column":0},"generated":{"line":1,"column":261}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":20,"column":9},"generated":{"line":1,"column":263}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":20,"column":9},"generated":{"line":1,"column":265}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":20,"column":9},"generated":{"line":1,"column":275}},{"source":"node_modules/ol/TileCache.js","name":"LRUCache","original":{"line":20,"column":20},"generated":{"line":1,"column":277}},{"source":"node_modules/ol/TileCache.js","original":{"line":20,"column":0},"generated":{"line":1,"column":279}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":26,"column":0},"generated":{"line":1,"column":288}},{"source":"node_modules/ol/TileCache.js","name":"prototype","original":{"line":26,"column":10},"generated":{"line":1,"column":290}},{"source":"node_modules/ol/TileCache.js","name":"expireCache","original":{"line":26,"column":20},"generated":{"line":1,"column":300}},{"source":"node_modules/ol/TileCache.js","original":{"line":26,"column":34},"generated":{"line":1,"column":312}},{"source":"node_modules/ol/TileCache.js","name":"usedTiles","original":{"line":26,"column":43},"generated":{"line":1,"column":321}},{"source":"node_modules/ol/TileCache.js","original":{"line":27,"column":9},"generated":{"line":1,"column":324}},{"source":"node_modules/ol/TileCache.js","original":{"line":27,"column":9},"generated":{"line":1,"column":329}},{"source":"node_modules/ol/TileCache.js","name":"canExpireCache","original":{"line":27,"column":14},"generated":{"line":1,"column":334}},{"source":"node_modules/ol/TileCache.js","original":{"line":27,"column":32},"generated":{"line":1,"column":352}},{"source":"node_modules/ol/TileCache.js","name":"tile","original":{"line":28,"column":10},"generated":{"line":1,"column":353}},{"source":"node_modules/ol/TileCache.js","name":"tile","original":{"line":28,"column":10},"generated":{"line":1,"column":359}},{"source":"node_modules/ol/TileCache.js","original":{"line":28,"column":17},"generated":{"line":1,"column":361}},{"source":"node_modules/ol/TileCache.js","name":"peekLast","original":{"line":28,"column":22},"generated":{"line":1,"column":366}},{"source":"node_modules/ol/TileCache.js","name":"zKey","original":{"line":29,"column":10},"generated":{"line":1,"column":377}},{"source":"node_modules/ol/TileCache.js","name":"tile","original":{"line":29,"column":17},"generated":{"line":1,"column":379}},{"source":"node_modules/ol/TileCache.js","name":"tileCoord","original":{"line":29,"column":22},"generated":{"line":1,"column":381}},{"source":"node_modules/ol/TileCache.js","original":{"line":29,"column":32},"generated":{"line":1,"column":391}},{"source":"node_modules/ol/TileCache.js","name":"toString","original":{"line":29,"column":35},"generated":{"line":1,"column":394}},{"source":"node_modules/ol/TileCache.js","name":"zKey","original":{"line":30,"column":8},"generated":{"line":1,"column":405}},{"source":"node_modules/ol/TileCache.js","name":"zKey","original":{"line":30,"column":8},"generated":{"line":1,"column":408}},{"source":"node_modules/ol/TileCache.js","name":"usedTiles","original":{"line":30,"column":16},"generated":{"line":1,"column":413}},{"source":"node_modules/ol/TileCache.js","name":"usedTiles","original":{"line":30,"column":29},"generated":{"line":1,"column":416}},{"source":"node_modules/ol/TileCache.js","name":"zKey","original":{"line":30,"column":39},"generated":{"line":1,"column":418}},{"source":"node_modules/ol/TileCache.js","name":"contains","original":{"line":30,"column":45},"generated":{"line":1,"column":421}},{"source":"node_modules/ol/TileCache.js","name":"tile","original":{"line":30,"column":54},"generated":{"line":1,"column":430}},{"source":"node_modules/ol/TileCache.js","name":"tileCoord","original":{"line":30,"column":59},"generated":{"line":1,"column":432}},{"source":"node_modules/ol/TileCache.js","original":{"line":31,"column":6},"generated":{"line":1,"column":443}},{"source":"node_modules/ol/TileCache.js","name":"pop","original":{"line":33,"column":11},"generated":{"line":1,"column":449}},{"source":"node_modules/ol/TileCache.js","name":"pop","original":{"line":33,"column":11},"generated":{"line":1,"column":454}},{"source":"node_modules/ol/TileCache.js","name":"dispose","original":{"line":33,"column":17},"generated":{"line":1,"column":460}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":42,"column":0},"generated":{"line":1,"column":472}},{"source":"node_modules/ol/TileCache.js","name":"prototype","original":{"line":42,"column":10},"generated":{"line":1,"column":474}},{"source":"node_modules/ol/TileCache.js","name":"pruneExceptNewestZ","original":{"line":42,"column":20},"generated":{"line":1,"column":484}},{"source":"node_modules/ol/TileCache.js","original":{"line":42,"column":41},"generated":{"line":1,"column":503}},{"source":"node_modules/ol/TileCache.js","original":{"line":43,"column":6},"generated":{"line":1,"column":514}},{"source":"node_modules/ol/TileCache.js","original":{"line":43,"column":26},"generated":{"line":1,"column":517}},{"source":"node_modules/ol/TileCache.js","original":{"line":43,"column":6},"generated":{"line":1,"column":521}},{"source":"node_modules/ol/TileCache.js","name":"getCount","original":{"line":43,"column":11},"generated":{"line":1,"column":526}},{"source":"node_modules/ol/TileCache.js","original":{"line":44,"column":4},"generated":{"line":1,"column":537}},{"source":"node_modules/ol/TileCache.js","name":"key","original":{"line":46,"column":8},"generated":{"line":1,"column":544}},{"source":"node_modules/ol/TileCache.js","name":"key","original":{"line":46,"column":8},"generated":{"line":1,"column":550}},{"source":"node_modules/ol/TileCache.js","original":{"line":46,"column":14},"generated":{"line":1,"column":552}},{"source":"node_modules/ol/TileCache.js","name":"peekFirstKey","original":{"line":46,"column":19},"generated":{"line":1,"column":557}},{"source":"node_modules/ol/TileCache.js","name":"z","original":{"line":48,"column":8},"generated":{"line":1,"column":572}},{"source":"node_modules/ol/TileCache.js","original":{"line":47,"column":20},"generated":{"line":1,"column":575}},{"source":"node_modules/ol/TileCache.js","name":"key","original":{"line":47,"column":28},"generated":{"line":1,"column":577}},{"source":"node_modules/ol/TileCache.js","name":"key","original":{"line":47,"column":28},"generated":{"line":1,"column":579}},{"source":"node_modules/ol/TileCache.js","name":"key","original":{"line":47,"column":28},"generated":{"line":1,"column":588}},{"source":"node_modules/ol/TileCache.js","original":{"line":48,"column":22},"generated":{"line":1,"column":591}},{"source":"node_modules/ol/TileCache.js","name":"forEach","original":{"line":49,"column":7},"generated":{"line":1,"column":594}},{"source":"node_modules/ol/TileCache.js","name":"forEach","original":{"line":49,"column":7},"generated":{"line":1,"column":599}},{"source":"node_modules/ol/TileCache.js","original":{"line":49,"column":15},"generated":{"line":1,"column":607}},{"source":"node_modules/ol/TileCache.js","name":"tile","original":{"line":49,"column":24},"generated":{"line":1,"column":616}},{"source":"node_modules/ol/TileCache.js","name":"tile","original":{"line":50,"column":8},"generated":{"line":1,"column":619}},{"source":"node_modules/ol/TileCache.js","name":"tileCoord","original":{"line":50,"column":13},"generated":{"line":1,"column":621}},{"source":"node_modules/ol/TileCache.js","original":{"line":50,"column":23},"generated":{"line":1,"column":631}},{"source":"node_modules/ol/TileCache.js","name":"z","original":{"line":50,"column":30},"generated":{"line":1,"column":636}},{"source":"node_modules/ol/TileCache.js","name":"remove","original":{"line":51,"column":11},"generated":{"line":1,"column":640}},{"source":"node_modules/ol/TileCache.js","name":"remove","original":{"line":51,"column":11},"generated":{"line":1,"column":645}},{"source":"node_modules/ol/TileCache.js","original":{"line":51,"column":18},"generated":{"line":1,"column":653}},{"source":"node_modules/ol/TileCache.js","name":"tile","original":{"line":51,"column":25},"generated":{"line":1,"column":655}},{"source":"node_modules/ol/TileCache.js","name":"tile","original":{"line":51,"column":25},"generated":{"line":1,"column":657}},{"source":"node_modules/ol/TileCache.js","name":"tile","original":{"line":51,"column":25},"generated":{"line":1,"column":665}},{"source":"node_modules/ol/TileCache.js","name":"tileCoord","original":{"line":51,"column":30},"generated":{"line":1,"column":667}},{"source":"node_modules/ol/TileCache.js","name":"dispose","original":{"line":52,"column":11},"generated":{"line":1,"column":679}},{"source":"node_modules/ol/TileCache.js","name":"dispose","original":{"line":52,"column":11},"generated":{"line":1,"column":681}},{"source":"node_modules/ol/TileCache.js","original":{"line":54,"column":5},"generated":{"line":1,"column":693}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":56,"column":15},"generated":{"line":1,"column":700}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":56,"column":15},"generated":{"line":1,"column":708}},{"source":"node_modules/ol/TileCache.js","name":"TileCache","original":{"line":56,"column":15},"generated":{"line":1,"column":716}}],"sources":{"node_modules/ol/TileCache.js":"/**\n * @module ol/TileCache\n */\nimport {inherits} from './util.js';\nimport LRUCache from './structs/LRUCache.js';\nimport {fromKey, getKey} from './tilecoord.js';\n\n/**\n * @constructor\n * @extends {module:ol/structs/LRUCache.<module:ol/Tile>}\n * @param {number=} opt_highWaterMark High water mark.\n * @struct\n */\nconst TileCache = function(opt_highWaterMark) {\n\n  LRUCache.call(this, opt_highWaterMark);\n\n};\n\ninherits(TileCache, LRUCache);\n\n\n/**\n * @param {!Object.<string, module:ol/TileRange>} usedTiles Used tiles.\n */\nTileCache.prototype.expireCache = function(usedTiles) {\n  while (this.canExpireCache()) {\n    const tile = this.peekLast();\n    const zKey = tile.tileCoord[0].toString();\n    if (zKey in usedTiles && usedTiles[zKey].contains(tile.tileCoord)) {\n      break;\n    } else {\n      this.pop().dispose();\n    }\n  }\n};\n\n\n/**\n * Prune all tiles from the cache that don't have the same z as the newest tile.\n */\nTileCache.prototype.pruneExceptNewestZ = function() {\n  if (this.getCount() === 0) {\n    return;\n  }\n  const key = this.peekFirstKey();\n  const tileCoord = fromKey(key);\n  const z = tileCoord[0];\n  this.forEach(function(tile) {\n    if (tile.tileCoord[0] !== z) {\n      this.remove(getKey(tile.tileCoord));\n      tile.dispose();\n    }\n  }, this);\n};\nexport default TileCache;\n"},"lineCount":null}},"hash":"e987a26269cd00671a64b8be0592f0e4","cacheData":{"env":{}},"id":36}